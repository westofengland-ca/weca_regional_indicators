{
  "hash": "b376c96e32df3265cd391c7e1dae9397",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Economic Growth\"\nsubtitle: \"Contributing to national economic growth\"\nauthor: \"SN\"\ndate: last-modified\nexecute:\n  echo: true\n  warning: false\n  message: false\n---\n\n## Context\n\nThis chapter tracks indicators related to the West of England's contribution to national economic growth. Up to 10 indicators can be included, covering metrics like GVA, productivity, business growth, innovation, and employment.\n\n## Worked Example: Sample Economic Indicator\n\nThis example demonstrates how to create an indicator using R. It loads data, processes it, creates a chart with WECA branding, and presents findings.\n\n\n::: {.cell}\n\n```{.r .cell-code  code-summary=\"Load required packages\"}\n# Load required packages\nlibrary(tidyverse)\n\n# Source the WECA theme and helper functions\nsource(here::here(\"scripts\", \"R\", \"theme_weca.R\"))\nsource(here::here(\"scripts\", \"R\", \"helpers.R\"))\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-summary=\"Load example data\"}\n# Load example indicator data\n# In your actual analysis, replace this with your real data source\ndata <- load_csv(here::here(\"data\", \"examples\", \"example_indicator.csv\"))\n\n# Preview the data structure\nhead(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 x 6\n  area     year indicator_name  indicator_value target_value national_average\n  <chr>   <dbl> <chr>                     <dbl>        <dbl>            <dbl>\n1 Bristol  2015 Employment Rate            72.3           75             73.1\n2 Bristol  2016 Employment Rate            73.5           75             73.8\n3 Bristol  2017 Employment Rate            74.2           75             74.2\n4 Bristol  2018 Employment Rate            75.1           75             74.9\n5 Bristol  2019 Employment Rate            76.3           75             75.4\n6 Bristol  2020 Employment Rate            73.8           75             74.1\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-summary=\"Process and summarize data\"}\n# Filter and process the data\n# This example calculates the latest value and year-on-year change\nprocessed <- data %>%\n  filter(indicator_name == \"Sample Economic Metric\") %>%\n  arrange(year) %>%\n  mutate(\n    # Calculate year-on-year change\n    yoy_change = indicator_value - lag(indicator_value),\n    yoy_pct = (yoy_change / lag(indicator_value)) * 100\n  )\n\n# Get the latest value for summary\nlatest <- processed %>%\n  filter(year == max(year)) %>%\n  pull(indicator_value)\n\nlatest_year <- processed %>%\n  filter(year == max(year)) %>%\n  pull(year)\n```\n:::\n\n\n### Latest Value\n\nThe most recent value for this indicator is **** (as of ).\n\n\n::: {.cell}\n\n```{.r .cell-code  code-summary=\"Create trend chart\"}\n# Create a line chart showing the trend over time\nggplot(processed, aes(x = year, y = indicator_value)) +\n  geom_line(colour = weca_palette[\"forest_green\"], linewidth = 1.2) +\n  geom_point(colour = weca_palette[\"forest_green\"], size = 3) +\n  scale_y_continuous(labels = scales::comma) +\n  labs(\n    title = \"Sample Economic Indicator Trend\",\n    x = \"Year\",\n    y = \"Indicator Value\",\n    caption = \"Source: Example data\"\n  ) +\n  theme_weca()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError in `weca_palette[\"forest_green\"]`:\n! object of type 'closure' is not subsettable\n```\n\n\n:::\n:::\n\n\n### Key Findings\n\n- The indicator has shown [describe trend - increasing/decreasing/stable]\n- Latest year-on-year change: [insert value]\n- Policy implications: [describe what this means for the priority area]\n\n---\n\n## Indicator 1: [Your Indicator Name]\n\n**Data source:** [Specify source]\n**Last updated:** [Date]\n**Refresh schedule:** [Annual/Quarterly/Monthly]\n\n### Overview\n\n[Describe what this indicator measures and why it matters for economic growth]\n\n\n::: {.cell}\n\n```{.r .cell-code  code-summary=\"Indicator 1 analysis\"}\n# Your code here\n# Follow the pattern from the worked example above:\n# 1. Load data\n# 2. Process/filter/aggregate\n# 3. Create visualization with theme_weca()\n# 4. Calculate key statistics\n```\n:::\n\n\n### Findings\n\n[Your narrative findings here]\n\n---\n\n## Indicator 2: [Your Indicator Name]\n\n**Data source:**\n**Last updated:**\n**Refresh schedule:**\n\n[Repeat structure above - add up to 10 indicators total]\n\n---\n\n## Summary\n\n[Summary of key findings across all indicators in this chapter. What is the overall picture for economic growth?]\n\n---\n\n## Python Example (Alternative)\n\nThe example below shows how to achieve the same analysis using Python instead of R.\n\n\n::: {.cell}\n\n```{.python .cell-code  code-summary=\"Python alternative for data analysis\"}\n# import pandas as pd\n# import matplotlib.pyplot as plt\n# from pathlib import Path\n#\n# # Load data with project-relative path\n# project_root = Path(__file__).parent.parent.parent  # Navigate to project root\n# data_path = project_root / \"data\" / \"examples\" / \"example_indicator.csv\"\n# df = pd.read_csv(data_path)\n#\n# # Filter and process\n# economic_data = df[df['indicator_name'] == 'Sample Economic Metric'].copy()\n# economic_data = economic_data.sort_values('year')\n#\n# # Calculate year-on-year change\n# economic_data['yoy_change'] = economic_data['indicator_value'].diff()\n# economic_data['yoy_pct'] = (economic_data['yoy_change'] /\n#                              economic_data['indicator_value'].shift(1)) * 100\n#\n# # Create chart (matplotlib - theme_weca for Python to be added later)\n# fig, ax = plt.subplots(figsize=(10, 6))\n# ax.plot(economic_data['year'], economic_data['indicator_value'],\n#         marker='o', linewidth=2, color='#1D4F2B')\n# ax.set_xlabel('Year')\n# ax.set_ylabel('Indicator Value')\n# ax.set_title('Sample Economic Indicator Trend')\n# plt.show()\n```\n:::\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}